

 <script runat="server">
  Platform.Load("Core", "1.1.1");
  try {
</script>

<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <title>Preference center</title>
</head>
  
  <body>
    




  <header class="text-center bg-dark text-white h-25">
    lorem ipsum
  </header>
  <section>

    %%[
SET @subscriberkey= _subscriberkey

IF NOT EMPTY(@subscriberkey) THEN

SET @subscriberId =lookup("_subscribers", "SubscriberId", "SubscriberKey", @subscriberkey)


  if not Empty(@subscriberId)  then

  

/* fetch data from Sales Cloud to show in the form */


  
]%%
    
    <form class="align-self-center border border-dark  p-5 m-5">
      <div class="form-group"> <label>First name: </label><br>
        <input type="text" name="firstname" value="%%=v(@FirstName)=%%">
      </div>
      <div class="form-group">
        <label>Last name: </label>
        <br><input type="text" name="lastname" value="%%=v(@LastName)=%%">
      </div>
      <div class="form-group"> <label>Email: </label><br><input type="text" name="email" value="%%=v(@Email)=%%"></div>

    
      <input name="submitted" type="hidden" value="true">
      <input type="submit" value="Submit" class=" btn-dark rounded">
    </form>
    

   
%%[ELSE]%%

Sorry, something went wrong (no records found).

%%[ENDIF ELSE]%%

Sorry, something went wrong (missing subscriber key).
  
    
%%[ENDIF]%% 
    
  </section>


  <footer class="text-center bg-dark text-white h-25">
    <div>
      Â©mm
    </div>
  </footer>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

    
      </body>



</html>

<script runat="server">
  } catch (e) {
</script>    
<section>
    <form action="%%=RequestParameter('PAGEURL')=%%" method="post">
        <div class="pref-list popup">
            <h2>Sorry!</h2><br>
            Your update has failed. Please go back and try again.<br>
            <br>
          <p>
            <script runat="server">Write(Stringify(e.message));</script>
          </p>
            <input class="Prefbtn" type="submit" value="Go Back">
        </div>
    </form>
</section>
<script runat="server">
  }
</script>