<script runat="server">
Platform.Load("Core","1.1.1");
try{
</script>

%%[
  SET @subscriberkey= _subscriberkey

IF NOT EMPTY(@subscriberkey) THEN

  SET @subscriberId =lookup("_subscribers", "SubscriberId", "SubscriberKey", @subscriberkey)


  if not Empty(@subscriberId)  then

set @subscriberRows=LookupRows("_EnterpriseAttribute","SubscriberID",@subscriberId)

if RowCount(@subscriberRows) >0 then


set @subscriberRow=Row(@subscriberRow,1)
set @firstName=Field(@subscriberRow, "first name", 0)


endif 
endif 
endif  
 ]%%
  <span>%%=v(@subscriberId)=%%</span>
<script runat="server">
}
catch(e) {
 Variable.SetValue("errorMessage", "msg: ");
}
</script>

 <span>%%=v(@errorMessage)=%%</span>
<script runat="client">
console.log(`%%=v(@errorMessage)=%%`);
console.log('<ctrl:var name="myVar" />');
</script>